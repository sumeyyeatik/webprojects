<style type="text/css">
 
   body {
    background-color: #e5e5e5;
    margin: 0;
    padding: 0;
  }

  #tv-showsul  {
    margin: auto;
    width: 750;
  }

  #tv-showsul img{
    width: 90%;
    margin: 0 auto;
    padding: 1px;
    font-family: monospace;
    display: block;
    border: 2px;
    background: white

  }

  #tv-showsul h5 {
    font-size: 30px;
    font-family: sans-serif;
    background: blue;
    color: white;
    border-bottom: 1px solid #ccc;
    margin: 0;
    padding: 10px;
    background: #4c49bc;
    font-size: 18px;
    font-family: sans-serif;
    color: white;
    text-transform: uppercase;

  }

  #tv-showsul h5 span {
    color: white;
    background: red;
    font-size: 15;
    border: solid;
    border-color: white;
    border-width: initial;
    margin-left: 10;

  } 
  #tv-showsul ul {
    font-size: 20px;
    color: #2d003e;
  }

  #tv-showsul span {
    font-size: 30px;
    margin-left: 
  }

  #menu-div {
    background-color: white;
    padding: 10px;
    border-bottom-style: groove;
    
}

#menu-div a {
  color: black;
  margin-left: 10px;
  font-size: 20px;
  border: solid;
  margin-right: 10px;
  font-family: monospace;
  font-weight: bold;
  padding: 5px;
}

#menu-div img {
  width: 60px;
  vertical-align: middle
}

#menu-div input {
  margin-left: auto;
  float: right;
  border-style: double;
  width: 180px;
  height: 45px;
  font-size: 18;
}

#tv-showsul li.tv-serie {
  list-style-type: none;
  border: 1px solid #ccc;
  background: white;
  width: 740;
  margin-bottom: 20px;
  margin-top: 20;
 }

 .li {
  margin: 10;
  font-size: 18;
}

#tv-showsul li.tv-serie input {
  font-size: 18px;
  margin-left: 30;
  width: 680;
  margin-top: 10;
  margin-bottom: 14;
}

.hide {display: none;
}
  
</style>

<div id="menu-div">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdshREGBdvPr0-tWXu-PqnFhgTOle7Xn3ANVFzOoHigEH2uDVt">
    <ul>
        <li><button id="show-tv-shows">TV Series </button></li>
        <li> <button id="show-add-tv-show-form"> Add a TV show </button></li>
    </ul>
    <input placeholder="search">
</div>

<ul id="tv-showsul">
<!-- 
    EXAMPLE VIEW OF A TV SERIES:
    <li>
        <h5>Futuruma</h5>
        <span>Votes: 3.9</span>
    </li>
 -->
 </ul>

 <div id="add-tv-show" class="hide">
     <label>Title</label> <input id="title-inp"> <br/>
     <label>Rating</label> <input id="rating-inp">><br/>
     <label>Photo </label> <input id="photo-inp">><br/>
     <button id="add-tv-show">add</button>
 </div>

<script type="text/javascript">
let got = {
        "title": "Game Of Thrones",
        "rating": 4,
        "seen_counter": 5,
        "photo": "https://proxy.duckduckgo.com/iu/?u=https%3A%2F%2Fblogbuzzter.de%2Fmedia%2F2017%2F08%2Fgame-of-thrones.jpg&f=1",
        "comments": ["This thrones wars are awesome!", "let's get together to pray for civilization"],
        "genres":["fantasy","fiction"]
    };

    let saul = {
        "title": "Better call saul",
        "rating": 3.6,
        "seen_counter": 12,
        "photo": "http://i.hurimg.com/i/hurriyet/75/750x422/56f3ed34c03c0e62108a2823.jpg",
        "comments": ["Saul is a hopeless man.", "I think he is an average lawer"],
        "genres" : ["crime", "comedy"]
    };

    let bad = {
        "title": "Breaking Bad",
        "rating": 4.2,
        "seen_counter": 4,
        "photo": "https://im.haberturk.com/2018/11/07/2210719_554fbb8cad995aeb51b665a44dd13bad_640x640.jpg",
        "comments": ["Walter is a crazy, and bad", "He should have stayed in teaching business"],
        "genres" : ["crime", "narcotics"]
    };

    let futuruma = {
        "title": "Futuruma",
        "rating": 3.9,
        "seen_counter": 421,
        "photo": "http://www.thenatterbox.com/wp-content/uploads/2016/11/futurama-couverture-1080x658.png",
        "comments": ["Futuruma is my favorite.", "Bender is a funny dude."],
        "genres" : ["animation", "fiction"]
    };

    let rick = {
        "title": "Rick and Morty",
        "rating": 3.8,
        "seen_counter": 98,
        "photo": "https://foto.haberler.com/haber/2019/01/16/rick-morty-hayranlarina-mujde-4-sezonun-cekim-11647809_o.jpg",
        "comments": ["Mort is a loser.", "Rick is a, hmm, rick!"],
        "genres" : ["animation", "comedy"]
    };

    let sumeyye = {
        "username": "sumbok",
        "favorite_shows": [bad, rick]
    };
    let muatik = {
        "username": "muatik",
        "favorite_shows": [got, futuruma, bad]
    };

    let tv_shows = [got, saul, bad, futuruma, rick];

    function list_series() {
       
    let tv_shows_ul = document.getElementById("tv-showsul")
    tv_shows_ul.innerHTML = ";"
    for (let i = 0; i < tv_shows.length; i++) {
        let series = tv_shows[i]
        
        let comment_ul = document.createElement( "ul")
        comment_ul.classList.add("comments")

        let genre_ul = document.createElement( "ul")
        genre_ul.classList.add("genre")


        for (var k = 0; k < series.comments.length; k++) {
          let comment = series.comments[k]
          let comment_li = document.createElement("li")
          comment_li.innerHTML =comment 
          comment_ul.appendChild(comment_li)
          
          
          }

          for (let j =0; j < series.genres.length; j++) {
              let genre = series.genres[j]
              let genre_li = document.createElement("li")
               genre_li.innerHTML = genre
               genre_ul.appendChild(genre_li)
          }

        
        let newlili = document.createElement("li")
        newlili.classList.add("tv-serie")

        newlili.innerHTML = "<h5><span>" + series.rating + "</span>" + series.title + "seen by" + series.seen_counter + "</h5><img src='" +series.photo + "'>" 


        document.getElementById("tv-showsul").appendChild(newlili)
        newlili.appendChild(comment_ul)
        newlili.appendChild(genre_ul)
        
        

        let comment_input = document.createElement("input")
        comment_input.classList.add("comment-inp")
        comment_input.placeholder ="type your comment"
        newlili.appendChild(comment_input)
          
        

        comment_input.onkeypress = comment_function
          
    }
}
    function comment_function(event) {
        if (event.keyCode == 13) {
            let user_input = this.value;
            this.value =""

            let comment_ul = this.parentNode.getElementsByClassName("comments")[0];
            console.log(comment_ul)
            let new_li = document.createElement("li");
            new_li.innerHTML = user_input
            comment_ul.appendChild(new_li)
        }
    }

    function display_show_form() {
        document.getElementById("add-tv-show").classList.remove("hide")
        document.getElementById("tv-showsul").classList.add("hide")
    }

    function display_tv_series () {
        document.getElementById("add-tv-show").classList.add("hide")
        document.getElementById("tv-showsul").classList.remove("hide")
        list_series()
    }

    function add_new_serie() {
        let show = {
            "title": document.getElementById("title-inp").value,
            "rating": document.getElementById("rating-inp").value,
            "photo":document.getElementById("photo-inp").value,
            "seen_counter": 0,
            "comments": []


        }
         tv_shows.push(show)
    }

    document.getElementById("show-add-tv-show-form").onclick = display_show_form

    document.getElementById("show-tv-shows").onclick = display_tv_series
   
    document.getElementById("add-tv-show").onclick = add_new_serie

    list_series()

    </script>
